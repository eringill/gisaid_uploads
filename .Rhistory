scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
ggplot(seqs, aes(x = country, y = Aug_2021, fill = 'Aug_2021', alpha = 0.5)) +
geom_col() +
scale_alpha(guide='none') +
geom_col(aes(x = country, y = Nov_2021, fill = 'Nov_2021', alpha = 0.5)) +
ylab("Median number of days to deposition\nover 90 day period") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug and Nov 2021") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = Aug_2021, label = Aug_2021), vjust = 1.5, colour = "black") +
geom_text(size=2.5, aes(y = Nov_2021, label = Nov_2021), vjust = 1.5, colour = "black") +
labs(fill='Month') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
seqs <- read.csv('data/days_to_deposition.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[3] <- 'Nov_2021'
ggplot(seqs, aes(x = country, y = Aug_2021, fill = 'Aug_2021', alpha = 0.5)) +
geom_col() +
scale_alpha(guide='none') +
geom_col(aes(x = country, y = Nov_2021, fill = 'Nov_2021', alpha = 0.5)) +
ylab("Median number of days to deposition\nsince start of pandemic") +
ggtitle("Median number of days from collection to deposition in GISAID by country since\nthe start of the pandemic in Aug and Nov 2021") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = Aug_2021, label = Aug_2021), vjust = 1.5, colour = "black") +
geom_text(size=2.5, aes(y = Nov_2021, label = Nov_2021), vjust = 1.5, colour = "black") +
labs(fill='Month') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'date'
names(seqsmelt)[3] <- 'days_to_deposition'
ggplot(seqsmelt, aes(x = country, y = days_to_deposition, fill = date)) +
geom_bar(position ='dodge', stat = 'identity') +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022") +
guides(x = guide_axis(angle = 90)) +
labs(fill='Month') +
scale_fill_viridis(discrete = TRUE)
seqs <- mapvalues(seqs, from=c('Aug_2021','Nov_2021','Mar_2022'), to=c('08-2021', '11-2021', '03-2022'))
seqs[['month']] <- as.POSIXct(seqs[['month']],
format = '%m-%Y')
library(ggplot2)
library(ggridges)
library(reshape)
library(dplyr)
library(viridis)
library(plyr)
library(ggplot2)
library(ggridges)
library(reshape)
library(plyr)
library(dplyr)
library(viridis)
seqs <- mapvalues(seqs, from=c('Aug_2021','Nov_2021','Mar_2022'), to=c('08-2021', '11-2021', '03-2022'))
seqs <- mapvalues(seqs, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
seqs$month <- mapvalues(seqs$month, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
View(seqsmelt)
View(seqsmelt)
seqsmelt$month <- mapvalues(seqsmelt$month, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
seqsmelt$date <- mapvalues(seqsmelt$date, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'date'
names(seqsmelt)[3] <- 'days_to_deposition'
seqsmelt$date <- mapvalues(seqsmelt$date, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
seqsmelt[['month']] <- as.POSIXct(seqsmelt[['month']],
format = '%m-%Y')
seqsmelt[['date']] <- as.POSIXct(seqsmelt[['date']],
format = '%m-%Y')
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'date'
names(seqsmelt)[3] <- 'days_to_deposition'
seqsmelt$date <- mapvalues(seqsmelt$date, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
seqsmelt[['date']] <- as.POSIXct(seqsmelt[['date']],
format = '%m-%Y')
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
seqsmelt$date <- as.Date(seqsmelt$date)
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'date'
names(seqsmelt)[3] <- 'days_to_deposition'
seqsmelt$date <- mapvalues(seqsmelt$date, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("08-2021", "11-2021", "03-2022"))
seqsmelt$date <- as.Date(seqsmelt$date)
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'date'
names(seqsmelt)[3] <- 'days_to_deposition'
seqsmelt$date <- mapvalues(seqsmelt$date, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("2021-08", "2021-11", "2022-03"))
seqsmelt$date <- as.Date(seqsmelt$date)
class(seqsmelt$date)
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'date'
names(seqsmelt)[3] <- 'days_to_deposition'
seqsmelt$date <- mapvalues(seqsmelt$date, from=c("Aug_2021","Nov_2021","Mar_2022"), to=c("2021-08-01", "2021-11-01", "2022-03-01"))
seqsmelt$date <- as.Date(seqsmelt$date)
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country)) +
scale_fill_viridis(discrete = TRUE)
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country)) +
scale_color_viridis(discrete = TRUE)
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country)) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country, linetype = country)) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country, linetype = country)) +
facet_wrap(~country) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
gplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country, linetype = country)) +
facet_wrap(~country, ncol = 1) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country, linetype = country)) +
facet_wrap(~country, ncol = 1) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_line(aes(color = country, linetype = country)) +
facet_wrap(~country, ncol = 2) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition)) +
geom_bar(aes(color = country, linetype = country)) +
facet_wrap(~country, ncol = 2) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition, fill = country)) +
geom_bar(stat = 'identity', fill = country) +
facet_wrap(~country, ncol = 2) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition, fill = country)) +
geom_bar(stat = 'identity') +
facet_wrap(~country, ncol = 2) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqsmelt, aes(x = date, y = days_to_deposition, fill = country)) +
geom_bar(stat = 'identity') +
facet_wrap(~country, ncol = 2) +
scale_fill_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqs, aes(x = country, y = Aug_2021, fill = 'Aug_2021', alpha = 0.5)) +
geom_col() +
scale_alpha(guide='none') +
geom_col(aes(x = country, y = Nov_2021, fill = 'Nov_2021', alpha = 0.5)) +
ylab("Median number of days to deposition\nsince start of pandemic") +
ggtitle("Median number of days from collection to deposition in GISAID by country since\nthe start of the pandemic in Aug and Nov 2021") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = Aug_2021, label = Aug_2021), vjust = 1.5, colour = "black") +
geom_text(size=2.5, aes(y = Nov_2021, label = Nov_2021), vjust = 1.5, colour = "black") +
labs(fill='Month') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
ggplot(seqs, aes(x = country, y = Aug_2021, fill = 'Aug_2021', alpha = 0.5)) +
geom_col() +
scale_alpha(guide='none') +
geom_col(aes(x = country, y = Nov_2021, fill = 'Nov_2021', alpha = 0.5)) +
ylab("Median number of days to deposition\nover 90 day period") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug and Nov 2021") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = Aug_2021, label = Aug_2021), vjust = 1.5, colour = "black") +
geom_text(size=2.5, aes(y = Nov_2021, label = Nov_2021), vjust = 1.5, colour = "black") +
labs(fill='Month') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
install.packages('rmarkdown')
View(seqs)
View(seqs)
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
names(seqs)[2] <- 'Aug_2021'
names(seqs)[5] <- 'Nov_2021'
names(seqs)[6] <- 'Mar_2022'
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(reshape)
library(plyr)
library(dplyr)
library(viridis)
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
# relevel factors
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
# rename columns
names(seqs)[2] <- 'GISAID'
names(seqs)[5] <- 'Portal'
names(seqs)[6] <- 'Mar_2022'
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases, Mar_2022))
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data/days_to_deposition_90.csv', header = TRUE)
# relevel factors
seqs$country <- factor(seqs$country)
seqs$country <- relevel(seqs$country, "Canada")
# rename columns
names(seqs)[2] <- 'GISAID'
names(seqs)[5] <- 'Portal'
names(seqs)[6] <- 'Mar_2022'
seqs <- subset(seqs, select = -c(percent_cases_sequenced_and_shared, cases, Mar_2022))
knitr::kable(seqs, caption = "Number of sequences uploaded to GISAID and the Data Portal by country")
#plot of median days to deposition to GISAID over last 90 days
ggplot(seqs, aes(x = country, y = GISAID, fill = 'GISAID', alpha = 0.5)) +
geom_col() +
scale_alpha(guide='none') +
geom_col(aes(x = country, y = Portal, fill = 'Portal', alpha = 0.5)) +
ylab("Number of sequences uploaded") +
ggtitle("Total number of sequences shared to GISAID and the Data Portal\n by country") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
geom_text(size=2.5, aes(y = Portal, label = Portal), vjust = 1.5, colour = "black") +
labs(fill='Month') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
#plot of median days to deposition to GISAID over last 90 days
ggplot(seqs, aes(x = country, y = GISAID, fill = 'GISAID', alpha = 0.5)) +
geom_col() +
scale_alpha(guide='none') +
geom_col(aes(x = country, y = Portal, fill = 'Portal', alpha = 0.5)) +
ylab("Number of sequences uploaded") +
ggtitle("Total number of sequences shared to GISAID and the Data\nPortal by country") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
geom_text(size=2.5, aes(y = Portal, label = Portal), vjust = 1.5, colour = "black") +
labs(fill='Repository') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("red", "blue"))
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'type'
names(seqsmelt)[3] <- 'sequences'
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'type'
names(seqsmelt)[3] <- 'sequences'
ggplot(seqsmelt, aes(x = country, y = sequences, fill = type)) +
geom_bar(position ='dodge', stat = 'identity') +
ylab("Number of sequences uploaded") +
xlab("Country") +
ggtitle("Total number of sequences shared to GISAID and the Data Portal\n by country") +
guides(x = guide_axis(angle = 90)) +
labs(fill='Month') +
scale_fill_viridis(discrete = TRUE)
ggplot(seqsmelt, aes(x = country, y = sequences, fill = type)) +
geom_bar(position ='dodge', stat = 'identity') +
ylab("Number of sequences uploaded") +
xlab("Country") +
ggtitle("Total number of sequences shared to GISAID and the Data\nPortal by country") +
guides(x = guide_axis(angle = 90)) +
labs(fill='Repository') +
scale_fill_viridis(discrete = TRUE)
seqs2 <- read.csv('data/sample_uploads.csv', header = TRUE)
# relevel factors
seqs2$country <- factor(seqs$country)
seqs2$country <- relevel(seqs$country, "Canada")
View(seqs2)
seqs2 <- read.csv('data/sample_uploads.csv', header = TRUE)
# relevel factors
seqs2$country <- factor(seqs$country)
seqs2$country <- relevel(seqs$country, "Canada")
ggplot(seqsmelt, aes(x = date, y = number)) +
geom_line(aes(color = country, linetype = repository)) +
scale_color_viridis(discrete = TRUE) +
ylab("Number of sequences uploaded") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal by country")
ggplot(seqs2, aes(x = date, y = number)) +
geom_line(aes(color = country, linetype = repository)) +
scale_color_viridis(discrete = TRUE) +
ylab("Number of sequences uploaded") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal by country")
seqs2 <- read.csv('data/sample_uploads.csv', header = TRUE)
# relevel factors
seqs2$country <- factor(seqs$country)
seqs2$country <- relevel(seqs$country, "Canada")
seqs2$date <- as.Date(seqs2$date)
ggplot(seqs2, aes(x = date, y = number)) +
geom_line(aes(color = country, linetype = repository)) +
scale_color_viridis(discrete = TRUE) +
ylab("Number of sequences uploaded") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal by country")
ggplot(seqsmelt, aes(x = date, y = number)) +
geom_line(aes(color = repository)) +
facet_wrap(~country) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqs2, aes(x = date, y = number)) +
geom_line(aes(color = repository)) +
facet_wrap(~country) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Median number of days from collection to deposition in GISAID by country over\nlast 90 days in Aug 2021, Nov 2021 and Mar 2022")
ggplot(seqs2, aes(x = date, y = number)) +
geom_point(aes(color = repository)) +
geom_line(aes(color = repository)) +
facet_wrap(~country) +
scale_color_viridis(discrete = TRUE) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqsmelt, aes(x = date, y = date, fill = repository)) +
geom_bar(stat = 'identity') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = date, fill = repository)) +
geom_bar(stat = 'identity') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = date, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = number, y = date, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
guides(x = guide_axis(angle = 90)) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
guides(x = guide_axis(angle = 90)) +
scale_x_date(breaks = "4 month") +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
guides(x = guide_axis(angle = 90)) +
scale_x_date(breaks = "4 months") +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
guides(x = guide_axis(angle = 90)) +
scale_x_date(breaks = "3 months") +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
guides(x = guide_axis(angle = 90)) +
scale_x_date(breaks = as.Date(c("2021-08-01", "2021-11-01"))) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number, fill = repository)) +
geom_bar(stat = 'identity', position = 'dodge') +
facet_wrap(~country, ncol = 4) +
scale_fill_viridis(discrete = TRUE) +
guides(x = guide_axis(angle = 90)) +
scale_x_date(breaks = as.Date(c("2021-08-01", "2021-11-01")),
labels = c('Aug', 'Nov')) +
ylab("Number of sequences") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number)) +
geom_point(aes(color = repository)) +
geom_line(aes(color = repository)) +
facet_wrap(~country) +
scale_color_viridis(discrete = TRUE) +
scale_x_date(breaks = as.Date(c("2021-08-01", "2021-11-01")),
labels = c('Aug', 'Nov')) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
ggplot(seqs2, aes(x = date, y = number)) +
geom_point(aes(color = repository)) +
geom_line(aes(color = repository)) +
facet_wrap(~country) +
scale_color_viridis(discrete = TRUE) +
labs(fill='Repository') +
scale_x_date(breaks = as.Date(c("2021-08-01", "2021-11-01")),
labels = c('Aug', 'Nov')) +
ylab("Median number of days to deposition\nover 90 day period") +
xlab("Country") +
ggtitle("Number of sequences shared to GISAID and the Data\nPortal over time by country")
kable(seqs2[1:10], caption = "Number of sequences uploaded to GISAID and the Data Portal over time by country")
kable(seqs2[1:10, ], caption = "Number of sequences uploaded to GISAID and the Data Portal over time by country")
knitr::kable(seqs2[1:10, ], caption = "Number of sequences uploaded to GISAID and the Data Portal over time by country")
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'type'
names(seqsmelt)[3] <- 'sequences'
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'type'
names(seqsmelt)[3] <- 'sequences'
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'type'
names(seqsmelt)[3] <- 'sequences'
seqsmelt <- melt(seqs)
names(seqsmelt)[2] <- 'type'
names(seqsmelt)[3] <- 'sequences'
