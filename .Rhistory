library(ggplot2)
library(ggridges)
library(reshape)
library(dplyr)
library(viridis)
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data.csv', header = TRUE)
seqs <- subset(seqs, select=-c(proportion))
seqs$region <- factor(seqs$region)
seqs$region <- relevel(seqs$region, "Canada")
ggplot(seqs, aes(x = date, y = GISAID_uploads)) +
geom_col(show.legend = FALSE, aes(fill = region)) +
facet_wrap(~region, ncol = 1, scales = "free_y") +
guides(x = guide_axis(angle = 90)) +
xlab("date") +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences uploaded to GISAID by region and date") +
scale_color_viridis(discrete = TRUE, option = "D")+
scale_fill_viridis(discrete = TRUE)
#ggsave("gisaid_prov_date.png", width = 25, height = 25, units = 'cm')
seqs_can <- seqs[seqs$region == 'Canada']
seqs_can <- seqs[seqs$region == 'Canada']
View(seqs)
View(seqs)
seqs_can <- seqs[seqs$region == 'Canada',]
View(seqs_can)
View(seqs_can)
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID \nby region") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID_uploads, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID \nby region") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID_uploads, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID \nby region") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID_uploads, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
names(seqs_can)[3] <- 'GISAID'
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID \nby region") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = comma) +
scale_fill_manual(values = c("#9ADADC", "#457B9D")) +
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = comma) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = 'comma') +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
options(scipen=10000) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggsave("gisaid_seqs_running_canada.png", width = 25, height = 25, units = 'cm')
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=10, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=3, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggsave("gisaid_seqs_running_canada.png", width = 25, height = 25, units = 'cm')
names(seqs_can)[2] <- 'séquences'
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'séquences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("nombre de séquences") +
ggtitle("nombre cumulatif de séquences conformes aux normes nationales de contrôle de la qualité et séquences \ntéleversées dans GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = séquences, fill = 'séquences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("nombre de séquences") +
ggtitle("nombre cumulatif de séquences conformes aux normes nationales de contrôle de la qualité et séquences \ntéleversées dans GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggsave("gisaid_seqs_running_canada_fr.png", width = 25, height = 25, units = 'cm')
library(ggplot2)
library(ggridges)
library(reshape)
library(dplyr)
library(viridis)
setwd("~/Projects/gisaid_uploads")
seqs <- read.csv('data_reduced.csv', header = TRUE)
seqs <- subset(seqs, select=-c(proportion))
seqs$region <- factor(seqs$region)
seqs$region <- relevel(seqs$region, "Canada")
seqs_can <- seqs[seqs$region == 'Canada',]
names(seqs_can)[3] <- 'GISAID'
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(labels = date_format("%Y-%m"))+
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_breaks = "1 month", date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
seqs_can <- as.Date(seqs_can$date)
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_breaks = "1 month", date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
seqs <- read.csv('data_reduced.csv', header = TRUE)
seqs <- subset(seqs, select=-c(proportion))
seqs$region <- factor(seqs$region)
seqs$region <- relevel(seqs$region, "Canada")
seqs_can <- seqs[seqs$region == 'Canada',]
names(seqs_can)[3] <- 'GISAID'
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
seqs_can <- data.frame(seqs_can)
seqs_can <- as.Date(seqs_can$date)
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
seqs_can <- data.frame(seqs_can)
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
seqs <- read.csv('data_reduced.csv', header = TRUE)
seqs <- subset(seqs, select=-c(proportion))
seqs$region <- factor(seqs$region)
seqs$region <- relevel(seqs$region, "Canada")
seqs_can <- seqs[seqs$region == 'Canada',]
names(seqs_can)[3] <- 'GISAID'
seqs_can <- data.frame(seqs_can)
seqs_can$date <- as.Date(seqs_can$date)
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
seqs <- read.csv('data_reduced.csv', header = TRUE)
seqs <- subset(seqs, select=-c(proportion))
seqs$region <- factor(seqs$region)
seqs$region <- relevel(seqs$region, "Canada")
seqs_can <- seqs[seqs$region == 'Canada',]
names(seqs_can)[3] <- 'GISAID'
seqs_can <- data.frame(seqs_can)
seqs_can$date <- as.Date(seqs_can$date)
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggplot(seqs_can, aes(x = date, y = sequences, fill = 'sequences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("number of sequences") +
ggtitle("Cumulative number of sequences passing national QC standards and sequences uploaded to GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_breaks = "1 month", date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggsave("gisaid_seqs_running_canada.png", width = 25, height = 25, units = 'cm')
names(seqs_can)[2] <- 'séquences'
ggplot(seqs_can, aes(x = date, y = séquences, fill = 'séquences')) +
geom_col() +
geom_col(aes(x = date, y = GISAID, fill = 'GISAID')) +
ylab("nombre de séquences") +
ggtitle("nombre cumulatif de séquences conformes aux normes nationales de contrôle de la qualité et séquences \ntélechargées dans GISAID") +
guides(x = guide_axis(angle = 90)) +
geom_text(size=2.5, aes(y = GISAID, label = GISAID), vjust = 1.5, colour = "black") +
labs(fill='') +
scale_x_date(date_breaks = "1 month", date_labels = "%b-%Y") +
scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) +
scale_fill_manual(values = c("#9ADADC", "#457B9D"))
ggsave("gisaid_seqs_running_canada_fr.png", width = 25, height = 25, units = 'cm')
